### 交易中的gas
- 当由于交易或消息触发EVM 运行时，每个指令都会在网络的每个节点上执行。这具有成本:对于每个执行的操作，都存在固定的成本，我们把这个成本用一定量的 gas 表示。
- gas 是交易发起人需要为EVM上的每项操作支付的成本名称。发起交易时我们需要从执行代码的矿工那里用以太币购买gas。
- gas与消耗的系统资源对应，这是具有自然成本的。因此在设计上gas和ether有意地解耦，消耗的gas数量代表了对资源的占用，而对应的交易费用则还跟gas对以太的单价有关。这两者是由自由市场调节的:gas的价格实际上是由矿工决定的，他们可以拒绝处理gas价格低于最低限额的交易。我们不需要专门购买gas，只需将以太币添加到帐户即可，客户端在发送交易时会自动用以太币购买汽油。而以太币本身的价格通常由于市场力量而波动。

### gas的计算
- gas的计算公式为：gas = gaslimit * gasprice
- gaslimit：表示交易或合约执行过程中最多消耗的gas数量，由发起者设置。
- gasprice：表示发起者愿意为每单位gas支付的以太币价格，由发起者设置。
- gaslimit * gasprice = 交易费用

- 发起交易时的 gas limit 并不是要支付的 gas 数量，而只是给定了一个消耗 gas 的上限，相当于“押金
- 实际支付的 gas 数量是执行过程中消耗的gas(gasUsed)，gas limit中剩余的部分会返回给发送人
- 最终支付的 gas 费用是 gasUsed 对应的以太币费用，单价由设定的gasPrice 而定
- 最终支付费用 totalCost=gasPrice*gasUsed
- totalCost会作为交易手续费(Txfee)支付给矿工

